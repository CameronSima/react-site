/*istanbul ignore next*/'use strict'; /* istanbul ignore next */var __cov_dZMPPpjdfjtWVyvDI0F3znKP7t4 = function () {var path = "/home/cameron/Projects/react-site/src/components/Modal/ReplyModal.js",hash = "936374e616b298d92c3ce08f5f2a6e2db8cf60ae",global = new Function('return this')(),gcv = "__coverage__",coverageData = { path: "/home/cameron/Projects/react-site/src/components/Modal/ReplyModal.js", statementMap: { "1": { start: { line: 1, column: 37 }, end: { line: 1, column: 99 } }, "2": { start: { line: 1, column: 118 }, end: { line: 1, column: 647 } }, "3": { start: { line: 1, column: 173 }, end: { line: 1, column: 438 } }, "4": { start: { line: 1, column: 230 }, end: { line: 1, column: 238 } }, "5": { start: { line: 1, column: 239 }, end: { line: 1, column: 294 } }, "6": { start: { line: 1, column: 294 }, end: { line: 1, column: 325 } }, "7": { start: { line: 1, column: 325 }, end: { line: 1, column: 379 } }, "8": { start: { line: 1, column: 352 }, end: { line: 1, column: 379 } }, "9": { start: { line: 1, column: 379 }, end: { line: 1, column: 437 } }, "10": { start: { line: 1, column: 439 }, end: { line: 1, column: 644 } }, "11": { start: { line: 1, column: 495 }, end: { line: 1, column: 563 } }, "12": { start: { line: 1, column: 511 }, end: { line: 1, column: 563 } }, "13": { start: { line: 1, column: 563 }, end: { line: 1, column: 623 } }, "14": { start: { line: 1, column: 580 }, end: { line: 1, column: 623 } }, "15": { start: { line: 1, column: 623 }, end: { line: 1, column: 642 } }, "16": { start: { line: 2, column: 240 }, end: { line: 2, column: 339 } }, "17": { start: { line: 2, column: 281 }, end: { line: 2, column: 338 } }, "18": { start: { line: 2, column: 389 }, end: { line: 2, column: 488 } }, "19": { start: { line: 2, column: 401 }, end: { line: 2, column: 487 } }, "20": { start: { line: 2, column: 488 }, end: { line: 2, column: 574 } }, "21": { start: { line: 2, column: 617 }, end: { line: 2, column: 780 } }, "22": { start: { line: 2, column: 679 }, end: { line: 2, column: 779 } }, "23": { start: { line: 2, column: 780 }, end: { line: 2, column: 944 } }, "24": { start: { line: 2, column: 944 }, end: { line: 2, column: 1062 } }, "25": { start: { line: 2, column: 960 }, end: { line: 2, column: 1062 } }, "26": { start: { line: 4, column: 13 }, end: { line: 4, column: 39 } } }, fnMap: { "1": { name: "(anonymous_1)", decl: { start: { line: 1, column: 118 }, end: { line: 1, column: 119 } }, loc: { start: { line: 1, column: 130 }, end: { line: 1, column: 645 } } }, "2": { name: "defineProperties", decl: { start: { line: 1, column: 140 }, end: { line: 1, column: 156 } }, loc: { start: { line: 1, column: 172 }, end: { line: 1, column: 439 } } }, "3": { name: "(anonymous_3)", decl: { start: { line: 1, column: 446 }, end: { line: 1, column: 447 } }, loc: { start: { line: 1, column: 494 }, end: { line: 1, column: 643 } } }, "4": { name: "_classCallCheck", decl: { start: { line: 2, column: 200 }, end: { line: 2, column: 215 } }, loc: { start: { line: 2, column: 239 }, end: { line: 2, column: 340 } } }, "5": { name: "_possibleConstructorReturn", decl: { start: { line: 2, column: 349 }, end: { line: 2, column: 375 } }, loc: { start: { line: 2, column: 388 }, end: { line: 2, column: 575 } } }, "6": { name: "_inherits", decl: { start: { line: 2, column: 584 }, end: { line: 2, column: 593 } }, loc: { start: { line: 2, column: 616 }, end: { line: 2, column: 1063 } } } }, branchMap: { "1": { loc: { start: { line: 1, column: 263 }, end: { line: 1, column: 293 } }, type: "binary-expr", locations: [{ start: { line: 1, column: 263 }, end: { line: 1, column: 284 } }, { start: { line: 1, column: 288 }, end: { line: 1, column: 293 } }] }, "2": { loc: { start: { line: 1, column: 325 }, end: { line: 1, column: 379 } }, type: "if", locations: [{ start: { line: 1, column: 325 }, end: { line: 1, column: 379 } }, { start: { line: 1, column: 325 }, end: { line: 1, column: 379 } }] }, "3": { loc: { start: { line: 1, column: 495 }, end: { line: 1, column: 563 } }, type: "if", locations: [{ start: { line: 1, column: 495 }, end: { line: 1, column: 563 } }, { start: { line: 1, column: 495 }, end: { line: 1, column: 563 } }] }, "4": { loc: { start: { line: 1, column: 563 }, end: { line: 1, column: 623 } }, type: "if", locations: [{ start: { line: 1, column: 563 }, end: { line: 1, column: 623 } }, { start: { line: 1, column: 563 }, end: { line: 1, column: 623 } }] }, "5": { loc: { start: { line: 2, column: 240 }, end: { line: 2, column: 339 } }, type: "if", locations: [{ start: { line: 2, column: 240 }, end: { line: 2, column: 339 } }, { start: { line: 2, column: 240 }, end: { line: 2, column: 339 } }] }, "6": { loc: { start: { line: 2, column: 389 }, end: { line: 2, column: 488 } }, type: "if", locations: [{ start: { line: 2, column: 389 }, end: { line: 2, column: 488 } }, { start: { line: 2, column: 389 }, end: { line: 2, column: 488 } }] }, "7": { loc: { start: { line: 2, column: 495 }, end: { line: 2, column: 573 } }, type: "cond-expr", locations: [{ start: { line: 2, column: 562 }, end: { line: 2, column: 566 } }, { start: { line: 2, column: 569 }, end: { line: 2, column: 573 } }] }, "8": { loc: { start: { line: 2, column: 495 }, end: { line: 2, column: 559 } }, type: "binary-expr", locations: [{ start: { line: 2, column: 495 }, end: { line: 2, column: 499 } }, { start: { line: 2, column: 504 }, end: { line: 2, column: 528 } }, { start: { line: 2, column: 532 }, end: { line: 2, column: 558 } }] }, "9": { loc: { start: { line: 2, column: 617 }, end: { line: 2, column: 780 } }, type: "if", locations: [{ start: { line: 2, column: 617 }, end: { line: 2, column: 780 } }, { start: { line: 2, column: 617 }, end: { line: 2, column: 780 } }] }, "10": { loc: { start: { line: 2, column: 621 }, end: { line: 2, column: 676 } }, type: "binary-expr", locations: [{ start: { line: 2, column: 621 }, end: { line: 2, column: 653 } }, { start: { line: 2, column: 657 }, end: { line: 2, column: 676 } }] }, "11": { loc: { start: { line: 2, column: 815 }, end: { line: 2, column: 849 } }, type: "binary-expr", locations: [{ start: { line: 2, column: 815 }, end: { line: 2, column: 825 } }, { start: { line: 2, column: 829 }, end: { line: 2, column: 849 } }] }, "12": { loc: { start: { line: 2, column: 944 }, end: { line: 2, column: 1062 } }, type: "if", locations: [{ start: { line: 2, column: 944 }, end: { line: 2, column: 1062 } }, { start: { line: 2, column: 944 }, end: { line: 2, column: 1062 } }] }, "13": { loc: { start: { line: 2, column: 960 }, end: { line: 2, column: 1061 } }, type: "cond-expr", locations: [{ start: { line: 2, column: 984 }, end: { line: 2, column: 1027 } }, { start: { line: 2, column: 1030 }, end: { line: 2, column: 1061 } }] } }, s: { "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0, "10": 0, "11": 0, "12": 0, "13": 0, "14": 0, "15": 0, "16": 0, "17": 0, "18": 0, "19": 0, "20": 0, "21": 0, "22": 0, "23": 0, "24": 0, "25": 0, "26": 0 }, f: { "1": 0, "2": 0, "3": 0, "4": 0, "5": 0, "6": 0 }, b: { "1": [0, 0], "2": [0, 0], "3": [0, 0], "4": [0, 0], "5": [0, 0], "6": [0, 0], "7": [0, 0], "8": [0, 0, 0], "9": [0, 0], "10": [0, 0], "11": [0, 0], "12": [0, 0], "13": [0, 0] } },coverage = global[gcv] || (global[gcv] = {});if (coverage[path] && coverage[path].hash === hash) {return coverage[path];}coverageData.hash = hash;return coverage[path] = coverageData;}();++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["1"];Object.defineProperty(exports, "__esModule", { value: true });var _createClass = /* istanbul ignore next */(++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["2"], function () {/* istanbul ignore next */++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.f["1"];function defineProperties(target, props) {/* istanbul ignore next */++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.f["2"];++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["3"];for (var i = 0; i < props.length; i++) {var descriptor = /* istanbul ignore next */(++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["4"], props[i]); /* istanbul ignore next */++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["5"];descriptor.enumerable = /* istanbul ignore next */(++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["1"][0], descriptor.enumerable) || /* istanbul ignore next */(++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["1"][1], false); /* istanbul ignore next */++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["6"];descriptor.configurable = true; /* istanbul ignore next */++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["7"];if ("value" in descriptor) {/* istanbul ignore next */++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["2"][0];++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["8"];descriptor.writable = true;} else /* istanbul ignore next */{++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["2"][1];}++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["9"];Object.defineProperty(target, descriptor.key, descriptor);}} /* istanbul ignore next */++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["10"];return function (Constructor, protoProps, staticProps) {/* istanbul ignore next */++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.f["3"];++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["11"];if (protoProps) {/* istanbul ignore next */++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["3"][0];++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["12"];defineProperties(Constructor.prototype, protoProps);} else /* istanbul ignore next */{++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["3"][1];}++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["13"];if (staticProps) {/* istanbul ignore next */++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["4"][0];++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["14"];defineProperties(Constructor, staticProps);} else /* istanbul ignore next */{++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["4"][1];}++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["15"];return Constructor;};}());var /*istanbul ignore next*/_react = require('react'); /*istanbul ignore next*/var _react2 = _interopRequireDefault(_react);
var /*istanbul ignore next*/_reactBootstrap = require('react-bootstrap'); /*istanbul ignore next*/function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function _classCallCheck(instance, Constructor) {/* istanbul ignore next */++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.f["4"];++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["16"];if (!(instance instanceof Constructor)) {/* istanbul ignore next */++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["5"][0];++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["17"];throw new TypeError("Cannot call a class as a function");} else /* istanbul ignore next */{++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["5"][1];}}function _possibleConstructorReturn(self, call) {/* istanbul ignore next */++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.f["5"];++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["18"];if (!self) {/* istanbul ignore next */++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["6"][0];++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["19"];throw new ReferenceError("this hasn't been initialised - super() hasn't been called");} else /* istanbul ignore next */{++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["6"][1];}++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["20"];return (/* istanbul ignore next */(++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["8"][0], call) && ( /* istanbul ignore next */(++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["8"][1], typeof call === "object") || /* istanbul ignore next */(++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["8"][2], typeof call === "function")) ? /* istanbul ignore next */(++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["7"][0], call) : /* istanbul ignore next */(++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["7"][1], self));}function _inherits(subClass, superClass) {/* istanbul ignore next */++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.f["6"];++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["21"];if ( /* istanbul ignore next */(++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["10"][0], typeof superClass !== "function") && /* istanbul ignore next */(++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["10"][1], superClass !== null)) {/* istanbul ignore next */++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["9"][0];++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["22"];throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);} else /* istanbul ignore next */{++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["9"][1];}++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["23"];subClass.prototype = Object.create( /* istanbul ignore next */(++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["11"][0], superClass) && /* istanbul ignore next */(++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["11"][1], superClass.prototype), { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); /* istanbul ignore next */++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["24"];if (superClass) {/* istanbul ignore next */++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["12"][0];++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["25"];Object.setPrototypeOf ? /* istanbul ignore next */(++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["13"][0], Object.setPrototypeOf(subClass, superClass)) : /* istanbul ignore next */(++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["13"][1], subClass.__proto__ = superClass);} else /* istanbul ignore next */{++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.b["12"][1];}}

var config = /* istanbul ignore next */(++__cov_dZMPPpjdfjtWVyvDI0F3znKP7t4.s["26"], require('../../../config')); /*istanbul ignore next*/var

ReplyModal = function (_Component) {_inherits(ReplyModal, _Component);
  function /*istanbul ignore next*/ReplyModal(props) {/*istanbul ignore next*/_classCallCheck(this, ReplyModal);var _this = _possibleConstructorReturn(this, (ReplyModal.__proto__ || Object.getPrototypeOf(ReplyModal)).call(this,
    props));
    /*istanbul ignore next*/_this.state = { showModal: false, text: '', data: [] };
    /*istanbul ignore next*/_this.close = /*istanbul ignore next*/_this.close.bind( /*istanbul ignore next*/_this);
    /*istanbul ignore next*/_this.open = /*istanbul ignore next*/_this.open.bind( /*istanbul ignore next*/_this);
    /*istanbul ignore next*/_this.sendComment = /*istanbul ignore next*/_this.sendComment.bind( /*istanbul ignore next*/_this);
    /*istanbul ignore next*/_this.handleTextChange = /*istanbul ignore next*/_this.handleTextChange.bind( /*istanbul ignore next*/_this);
    /*istanbul ignore next*/_this.handleSubmit = /*istanbul ignore next*/_this.handleSubmit.bind( /*istanbul ignore next*/_this); /*istanbul ignore next*/return _this;

  }_createClass(ReplyModal, [{ key: 'close', value: function close()
    {
      this.setState({ showModal: false });
    } }, { key: 'open', value: function open()
    {
      this.setState({ showModal: true });
    } }, { key: 'sendComment', value: function sendComment(
    comment) {
      var comments = this.state.data;
      // Optimistically set an id on the new comment. It will be replaced by an
      // id generated by the server. In a production application you would likely
      // not use Date.now() for this and would have a more robust system in place.
      // comment.id = Date.now()
      var newComments = comments.concat([comment]);
      this.setState({ data: newComments });
      $.ajax({
        url: config.apiUrl + 'comments/',
        dataType: 'json',
        type: 'POST',
        data: comment,
        xhrFields: { withCredentials: true },
        success: function /*istanbul ignore next*/success(data) {
          //this.setState({data: data})

        },
        error: function /*istanbul ignore next*/error(xhr, status, err) {
          //this.setState({data: comments})
          //console.log(data)
          console.error(this.props.url, status, err.toString());
        } });

    } }, { key: 'handleTextChange', value: function handleTextChange(
    e) {
      this.setState({ text: e.target.value });
    } }, { key: 'handleSubmit', value: function handleSubmit(
    e) {
      e.preventDefault();
      var text = this.state.text.trim();
      if (!text) {
        return;
      } else {
        this.props.onCommentSubmit({ text: text,
          parent: this.props.parent,
          thread: this.props.thread });

        this.setState({ text: '' });
        this.close();
      }
    } }, { key: 'render', value: function render()
    {
      return (
        /*istanbul ignore next*/_react2.default.createElement( /*istanbul ignore next*/'div', /*istanbul ignore next*/{ className: 'replyLink' },
        /*istanbul ignore next*/_react2.default.createElement( /*istanbul ignore next*/'a', /*istanbul ignore next*/{ onClick: this.open }, /*istanbul ignore next*/'Reply'),
        /*istanbul ignore next*/_react2.default.createElement( /*istanbul ignore next*/_reactBootstrap.Modal, /*istanbul ignore next*/{ show: this.state.showModal, onHide: this.close },
        /*istanbul ignore next*/_react2.default.createElement( /*istanbul ignore next*/_reactBootstrap.Modal.Dialog, /*istanbul ignore next*/null,
        /*istanbul ignore next*/_react2.default.createElement( /*istanbul ignore next*/_reactBootstrap.Modal.Header, /*istanbul ignore next*/null,
        /*istanbul ignore next*/_react2.default.createElement( /*istanbul ignore next*/'p', /*istanbul ignore next*/null, /*istanbul ignore next*/' Reply to ', this.props.OP, /*istanbul ignore next*/'\'s comment ')),


        /*istanbul ignore next*/_react2.default.createElement( /*istanbul ignore next*/_reactBootstrap.Modal.Body, /*istanbul ignore next*/null,
        /*istanbul ignore next*/_react2.default.createElement( /*istanbul ignore next*/'textarea', /*istanbul ignore next*/{ rows: '4', cols: '61', value: this.state.text, onChange: this.handleTextChange })),




        /*istanbul ignore next*/_react2.default.createElement( /*istanbul ignore next*/_reactBootstrap.Modal.Footer, /*istanbul ignore next*/null,
        /*istanbul ignore next*/_react2.default.createElement( /*istanbul ignore next*/'a', /*istanbul ignore next*/{ className: 'replyLink', onClick: this.handleSubmit }, /*istanbul ignore next*/'Reply'),
        /*istanbul ignore next*/_react2.default.createElement( /*istanbul ignore next*/'a', /*istanbul ignore next*/{ className: 'closeLink', onClick: this.close }, /*istanbul ignore next*/'Close'))))));





    } }]);return ReplyModal;}(_react.Component); /*istanbul ignore next*/exports.default = ReplyModal;